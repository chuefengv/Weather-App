{"ast":null,"code":"import _slicedToArray from\"/Users/feng/Desktop/Weather-App/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useRef,useState}from'react';import axios from'axios';import Clock from'react-live-clock';import'./Display.css';import WeatherIcon from'./weather_icon';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Display(_ref){var flag=_ref.flag,lastState=_ref.lastState,lastCity=_ref.lastCity;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),temp=_useState2[0],setTemp=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),precipitation=_useState4[0],setPrecipitation=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),humidity=_useState6[0],setHumidity=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),wind=_useState8[0],setWind=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),weatherDesc=_useState10[0],setWeatherDesc=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),timezone=_useState12[0],setTimezone=_useState12[1];var _useState13=useState(113),_useState14=_slicedToArray(_useState13,2),forecast=_useState14[0],setForecast=_useState14[1];var firstRun=useRef(true);var firstRun2=useRef(true);var API_KEY=process.env.API_KEY;useEffect(function(){if(firstRun.current){firstRun.current=false;return;}axios.get(\"http://api.weatherstack.com/current?access_key=\".concat(API_KEY,\"&units=f&query=\").concat(lastState,\",united_states\")).then(function(res){setTemp(res.data.current.temperature);setPrecipitation(res.data.current.precip);setHumidity(res.data.current.humidity);setWind(res.data.current.wind_speed);setWeatherDesc(res.data.current.weather_descriptions);setTimezone(res.data.location.timezone_id);setForecast(res.data.current.weather_code);}).catch(function(err){console.log(err.message);});},[lastState]);useEffect(function(){if(firstRun2.current){firstRun2.current=false;return;}axios.get(\"http://api.weatherstack.com/current?access_key=d927a6b3c39a782e1a9e488ba5fd8e5a&units=f&query=\".concat(lastCity,\",\").concat(lastState,\",united_states\")).then(function(res){setTemp(res.data.current.temperature);setPrecipitation(res.data.current.precip);setHumidity(res.data.current.humidity);setWind(res.data.current.wind_speed);setWeatherDesc(res.data.current.weather_descriptions);setTimezone(res.data.location.timezone_id);setForecast(res.data.current.weather_code);}).catch(function(err){console.log('bad error');});},[lastCity,lastState]);return/*#__PURE__*/_jsxs(\"div\",{className:\"display\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"temperature\",children:[!lastState&&/*#__PURE__*/_jsx(\"div\",{children:\"0\\xB0F\"}),lastState&&/*#__PURE__*/_jsxs(\"div\",{children:[temp,\"\\xB0F\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"weather-desc\",children:[!lastState&&/*#__PURE__*/_jsx(\"div\",{children:\"What To Expect Outside\"}),lastState&&/*#__PURE__*/_jsx(\"div\",{children:weatherDesc})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"weather-details\",children:[!lastState&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Precipitation: 0%\",/*#__PURE__*/_jsx(\"br\",{}),\"Humidity: 0%\",/*#__PURE__*/_jsx(\"br\",{}),\"Wind Speeds: 0mph\"]}),lastState&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Precipitation: \",precipitation,\"%\",/*#__PURE__*/_jsx(\"br\",{}),\"Humidity: \",humidity,\"%\",/*#__PURE__*/_jsx(\"br\",{}),\"Wind Speeds: \",wind,\"mph\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"city-name\",children:lastCity&&/*#__PURE__*/_jsxs(\"div\",{children:[\" \",lastCity,\", \"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"state-name\",children:[!lastState&&/*#__PURE__*/_jsx(\"div\",{children:\"Today's Forecast\"}),lastState&&/*#__PURE__*/_jsxs(\"div\",{children:[\" \",lastState]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"time-display\",children:[!lastState&&/*#__PURE__*/_jsx(Clock,{format:'h:mm A',ticking:true,timezone:'UTC'}),lastState&&/*#__PURE__*/_jsx(Clock,{format:'h:mm A',ticking:true,timezone:timezone})]}),/*#__PURE__*/_jsx(\"div\",{className:\"date-display\",children:/*#__PURE__*/_jsx(Clock,{format:'dddd'})}),/*#__PURE__*/_jsx(\"div\",{className:\"weather-icon\",children:/*#__PURE__*/_jsx(WeatherIcon,{forecast:forecast,lastState:lastState})})]});}export default Display;","map":{"version":3,"sources":["/Users/feng/Desktop/Weather-App/client/src/components/body/display/Display.jsx"],"names":["React","useEffect","useRef","useState","axios","Clock","WeatherIcon","Display","flag","lastState","lastCity","temp","setTemp","precipitation","setPrecipitation","humidity","setHumidity","wind","setWind","weatherDesc","setWeatherDesc","timezone","setTimezone","forecast","setForecast","firstRun","firstRun2","API_KEY","process","env","current","get","then","res","data","temperature","precip","wind_speed","weather_descriptions","location","timezone_id","weather_code","catch","err","console","log","message"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState }  from 'react'\nimport axios from 'axios';\nimport Clock from 'react-live-clock';\nimport './Display.css'\nimport WeatherIcon from './weather_icon'\n\nfunction Display({flag, lastState, lastCity}){\n\n    const [temp, setTemp] = useState(\"\");\n    const [precipitation, setPrecipitation] = useState(\"\");\n    const [humidity, setHumidity] = useState(\"\");\n    const [wind, setWind] = useState(\"\");\n    const [weatherDesc, setWeatherDesc] = useState(\"\");\n    const [timezone, setTimezone] = useState(\"\");\n    const [forecast, setForecast] = useState(113);\n    const firstRun = useRef(true);\n    const firstRun2 = useRef(true);\n\n    const API_KEY=process.env.API_KEY;\n\n    useEffect(()=>{\n        if (firstRun.current) {\n            firstRun.current = false;\n            return;\n        }\n        axios.get(`http://api.weatherstack.com/current?access_key=${API_KEY}&units=f&query=${lastState},united_states`)    \n            .then(res =>{\n                setTemp(res.data.current.temperature);\n                setPrecipitation(res.data.current.precip);\n                setHumidity(res.data.current.humidity);\n                setWind(res.data.current.wind_speed);\n                setWeatherDesc(res.data.current.weather_descriptions);\n                setTimezone(res.data.location.timezone_id);\n                setForecast(res.data.current.weather_code);             \n            })\n            .catch(err =>{\n                console.log(err.message);\n            })\n    },[lastState]);\n\n    useEffect(()=>{\n        if (firstRun2.current) {\n            firstRun2.current = false;\n            return;\n        }\n        axios.get(`http://api.weatherstack.com/current?access_key=d927a6b3c39a782e1a9e488ba5fd8e5a&units=f&query=${lastCity},${lastState},united_states`)    \n        .then(res =>{\n                setTemp(res.data.current.temperature);\n                setPrecipitation(res.data.current.precip);\n                setHumidity(res.data.current.humidity);\n                setWind(res.data.current.wind_speed);\n                setWeatherDesc(res.data.current.weather_descriptions);\n                setTimezone(res.data.location.timezone_id);\n                setForecast(res.data.current.weather_code);\n        })\n        .catch(err =>{\n            console.log('bad error');\n        })\n    },[lastCity, lastState]);\n\n\n    return(\n        <div className='display'>\n            <div className='temperature'>\n                {!lastState && <div>0°F</div>}\n                {lastState && <div>{temp}°F</div>}\n            </div>\n            <div className='weather-desc'>\n                {!lastState && <div>What To Expect Outside</div>}\n                {lastState && <div>{weatherDesc}</div>}\n            </div>\n            <div className='weather-details'>\n            {!lastState && \n            <div >\n                Precipitation: 0%\n                <br></br>\n                Humidity: 0%\n                <br></br>\n                Wind Speeds: 0mph\n            </div>}\n            {lastState && \n            <div>\n                Precipitation: {precipitation}%\n                <br></br>\n                Humidity: {humidity}%\n                <br></br>\n                Wind Speeds: {wind}mph\n            </div>}\n            </div>\n            <div className='city-name'>\n                {lastCity && <div> {lastCity}, </div>}\n            </div> \n            <div className='state-name'>\n                {!lastState && <div>Today's Forecast</div>}\n                {lastState && <div> {lastState}</div>}\n            </div>\n            <div className='time-display'>\n                {!lastState && <Clock format={'h:mm A'} ticking={true} timezone={'UTC'} />}\n                {lastState && <Clock format={'h:mm A'} ticking={true} timezone={timezone} />}\n            </div>\n            <div className='date-display'>\n                {<Clock format={'dddd'} />}\n            </div>\n            <div className='weather-icon'>\n                <WeatherIcon forecast={forecast} lastState={lastState}/>\n            </div>\n        </div>\n\n    )\n}\n\nexport default Display;"]},"metadata":{},"sourceType":"module"}