{"ast":null,"code":"var _jsxFileName = \"/Users/feng/Desktop/weather-radar/src/components/body/display/Display.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport axios from 'axios';\nimport Clock from 'react-live-clock';\nimport './Display.css';\nimport Weather_icon from './weather_icon';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_KEY = '3bb9bbd32853ab443e3fc197c20c61ff';\n\nfunction Display({\n  flag,\n  lastState,\n  lastCity\n}) {\n  _s();\n\n  const [temp, setTemp] = useState(\"\");\n  const [precipitation, setPrecipitation] = useState(\"\");\n  const [humidity, setHumidity] = useState(\"\");\n  const [wind, setWind] = useState(\"\");\n  const [weatherDesc, setWeatherDesc] = useState(\"\");\n  const [timezone, setTimezone] = useState(\"\");\n  const [forecast, setForecast] = useState(113);\n  const firstRun = useRef(true);\n  const firstRun2 = useRef(true);\n  useEffect(() => {\n    if (firstRun.current) {\n      firstRun.current = false;\n      return;\n    }\n\n    axios.get(`http://api.weatherstack.com/current?access_key=${API_KEY}&units=f&query=${lastState},united_states`).then(res => {\n      {\n        setTemp(res.data.current.temperature);\n        setPrecipitation(res.data.current.precip);\n        setHumidity(res.data.current.humidity);\n        setWind(res.data.current.wind_speed);\n        setWeatherDesc(res.data.current.weather_descriptions);\n        setTimezone(res.data.location.timezone_id);\n        setForecast(res.data.current.weather_code);\n      }\n    }).catch(err => {\n      console.log('bad error');\n    });\n  }, [lastState]);\n  useEffect(() => {\n    if (firstRun2.current) {\n      firstRun2.current = false;\n      return;\n    }\n\n    axios.get(`http://api.weatherstack.com/current?access_key=${API_KEY}&units=f&query=${lastCity},${lastState},united_states`).then(res => {\n      {\n        setTemp(res.data.current.temperature);\n        setPrecipitation(res.data.current.precip);\n        setHumidity(res.data.current.humidity);\n        setWind(res.data.current.wind_speed);\n        setWeatherDesc(res.data.current.weather_descriptions);\n        setTimezone(res.data.location.timezone_id);\n        setForecast(res.data.current.weather_code);\n      }\n    }).catch(err => {\n      console.log('bad error');\n    });\n  }, [lastCity]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"display\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"temperature\",\n      children: [!lastState && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"0\\xB0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 32\n      }, this), lastState && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [temp, \"\\xB0F\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 31\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"weather-desc\",\n      children: [!lastState && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"What To Expect Outside\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 32\n      }, this), lastState && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: weatherDesc\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 31\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"weather-details\",\n      children: [!lastState && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Precipitation: 0%\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }, this), \"Humidity: 0%\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this), \"Wind Speeds: 0mph\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this), lastState && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Precipitation: \", precipitation, \"%\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this), \"Humidity: \", humidity, \"%\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }, this), \"Wind Speeds: \", wind, \"mph\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"city-name\",\n      children: lastCity && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", lastCity, \", \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 30\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"state-name\",\n      children: [!lastState && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Today's Forecast\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 32\n      }, this), lastState && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\" \", lastState]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 31\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"time-display\",\n      children: [!lastState && /*#__PURE__*/_jsxDEV(Clock, {\n        format: 'h:mm A',\n        ticking: true,\n        timezone: 'UTC'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 32\n      }, this), lastState && /*#__PURE__*/_jsxDEV(Clock, {\n        format: 'h:mm A',\n        ticking: true,\n        timezone: timezone\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 31\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"date-display\",\n      children: /*#__PURE__*/_jsxDEV(Clock, {\n        format: 'dddd'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 18\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"weather-icon\",\n      children: /*#__PURE__*/_jsxDEV(Weather_icon, {\n        forecast: forecast,\n        lastState: lastState\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Display, \"FWBlMAqZzg7vFcqZy9Ya/69qSyE=\");\n\n_c = Display;\nexport default Display;\n\nvar _c;\n\n$RefreshReg$(_c, \"Display\");","map":{"version":3,"sources":["/Users/feng/Desktop/weather-radar/src/components/body/display/Display.jsx"],"names":["React","useEffect","useRef","useState","axios","Clock","Weather_icon","API_KEY","Display","flag","lastState","lastCity","temp","setTemp","precipitation","setPrecipitation","humidity","setHumidity","wind","setWind","weatherDesc","setWeatherDesc","timezone","setTimezone","forecast","setForecast","firstRun","firstRun2","current","get","then","res","data","temperature","precip","wind_speed","weather_descriptions","location","timezone_id","weather_code","catch","err","console","log"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState }  from 'react'\nimport axios from 'axios';\nimport Clock from 'react-live-clock';\nimport './Display.css'\nimport Weather_icon from './weather_icon'\n\nconst API_KEY='3bb9bbd32853ab443e3fc197c20c61ff';\n\nfunction Display({flag, lastState, lastCity}){\n\n    const [temp, setTemp] = useState(\"\");\n    const [precipitation, setPrecipitation] = useState(\"\");\n    const [humidity, setHumidity] = useState(\"\");\n    const [wind, setWind] = useState(\"\");\n    const [weatherDesc, setWeatherDesc] = useState(\"\");\n    const [timezone, setTimezone] = useState(\"\");\n    const [forecast, setForecast] = useState(113);\n    const firstRun = useRef(true);\n    const firstRun2 = useRef(true);\n\n\n    useEffect(()=>{\n        if (firstRun.current) {\n            firstRun.current = false;\n            return;\n        }\n        axios.get(`http://api.weatherstack.com/current?access_key=${API_KEY}&units=f&query=${lastState},united_states`)    \n            .then(res =>{\n                {\n                    setTemp(res.data.current.temperature);\n                    setPrecipitation(res.data.current.precip);\n                    setHumidity(res.data.current.humidity);\n                    setWind(res.data.current.wind_speed);\n                    setWeatherDesc(res.data.current.weather_descriptions);\n                    setTimezone(res.data.location.timezone_id);\n                    setForecast(res.data.current.weather_code);\n                    \n                }\n            })\n            .catch(err =>{\n                console.log('bad error');\n            })\n    },[lastState]);\n\n    useEffect(()=>{\n        if (firstRun2.current) {\n            firstRun2.current = false;\n            return;\n        }\n        axios.get(`http://api.weatherstack.com/current?access_key=${API_KEY}&units=f&query=${lastCity},${lastState},united_states`)    \n        .then(res =>{\n            {\n                setTemp(res.data.current.temperature);\n                setPrecipitation(res.data.current.precip);\n                setHumidity(res.data.current.humidity);\n                setWind(res.data.current.wind_speed);\n                setWeatherDesc(res.data.current.weather_descriptions);\n                setTimezone(res.data.location.timezone_id);\n                setForecast(res.data.current.weather_code);\n            }\n        })\n        .catch(err =>{\n            console.log('bad error');\n        })\n    },[lastCity]);\n\n\n    return(\n        <div className='display'>\n            <div className='temperature'>\n                {!lastState && <div>0°F</div>}\n                {lastState && <div>{temp}°F</div>}\n            </div>\n            <div className='weather-desc'>\n                {!lastState && <div>What To Expect Outside</div>}\n                {lastState && <div>{weatherDesc}</div>}\n            </div>\n            <div className='weather-details'>\n            {!lastState && \n            <div >\n                Precipitation: 0%\n                <br></br>\n                Humidity: 0%\n                <br></br>\n                Wind Speeds: 0mph\n            </div>}\n            {lastState && \n            <div>\n                Precipitation: {precipitation}%\n                <br></br>\n                Humidity: {humidity}%\n                <br></br>\n                Wind Speeds: {wind}mph\n            </div>}\n            </div>\n            <div className='city-name'>\n                {lastCity && <div> {lastCity}, </div>}\n            </div> \n            <div className='state-name'>\n                {!lastState && <div>Today's Forecast</div>}\n                {lastState && <div> {lastState}</div>}\n            </div>\n            <div className='time-display'>\n                {!lastState && <Clock format={'h:mm A'} ticking={true} timezone={'UTC'} />}\n                {lastState && <Clock format={'h:mm A'} ticking={true} timezone={timezone} />}\n            </div>\n            <div className='date-display'>\n                {<Clock format={'dddd'} />}\n            </div>\n            <div className='weather-icon'>\n                <Weather_icon forecast={forecast} lastState={lastState}/>\n            </div>\n        </div>\n\n    )\n}\n\nexport default Display;"]},"metadata":{},"sourceType":"module"}